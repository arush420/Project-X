{% extends 'base.html' %}
{% block title %}E-Invoice Details{% endblock %}
{% block content %}
<div class="container mt-5">
    <h1>Invoice Details</h1>
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h5>Invoice Information</h5>
                    <p><strong>Invoice No:</strong> {{ invoice.invoice_no }}</p>
                    <p><strong>Document Type:</strong> {{ invoice.document_type }}</p>
                    <p><strong>Invoice Date:</strong> {{ invoice.invoice_date|date:"M d, Y" }}</p>
                    <p><strong>Category:</strong> {{ invoice.category }}</p>
                </div>
                <div class="col-md-6">
                    <h5>Customer Information</h5>
                    <p><strong>Customer Name:</strong> {{ invoice.customer_name }}</p>
                    <p><strong>GSTIN:</strong> {{ invoice.customer_gstin|default:"N/A" }}</p>
                    <p><strong>State:</strong> {{ invoice.customer_state }}</p>
                    <p><strong>Pincode:</strong> {{ invoice.customer_pincode }}</p>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12">
                    <h5>Address</h5>
                    <p>{{ invoice.customer_address }}</p>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12">
                    <h5>Description</h5>
                    <p>{{ invoice.description }}</p>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6">
                    <h5>Tax Details</h5>
                    <p><strong>Taxable Amount:</strong> ₹{{ invoice.taxable_amount|floatformat:2 }}</p>
                    <p><strong>CGST ({{ invoice.cgst_rate }}%):</strong> ₹{{ invoice.cgst_amount|floatformat:2 }}</p>
                    <p><strong>SGST ({{ invoice.sgst_rate }}%):</strong> ₹{{ invoice.sgst_amount|floatformat:2 }}</p>
                    <p><strong>IGST ({{ invoice.igst_rate }}%):</strong> ₹{{ invoice.igst_amount|floatformat:2 }}</p>
                </div>
                <div class="col-md-6">
                    <h5>Total</h5>
                    <p><strong>Total Tax:</strong> ₹{{ invoice.total_tax|floatformat:2 }}</p>
                    <p><strong>Total Amount:</strong> ₹{{ invoice.total_amount|floatformat:2 }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-3">
        <a href="{% url 'employees:e_invoice_update' invoice.pk %}" class="btn btn-warning">Edit</a>
        <a href="{% url 'employees:e_invoice_list' %}" class="btn btn-secondary">Back to List</a>
    </div>
</div>
{% endblock %}