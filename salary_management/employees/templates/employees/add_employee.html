{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Add New Employee</h2>

    {% if messages %}
        {% for message in messages %}
            <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <form method="post" novalidate>
        {% csrf_token %}

        <!-- Personal Details Section -->
        <h4>Personal Details</h4>
        <div class="row">
            <div class="col-md-4">
                {{ add_employee_form.employee_code.label_tag }}
                {{ add_employee_form.employee_code }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.name.label_tag }}
                {{ add_employee_form.name }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.father_name.label_tag }}
                {{ add_employee_form.father_name }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.mother_name.label_tag }}
                {{ add_employee_form.mother_name }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.gender.label_tag }}
                {{ add_employee_form.gender }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.dob.label_tag }}
                {{ add_employee_form.dob }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.marital_status.label_tag }}
                {{ add_employee_form.marital_status }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.spouse_name.label_tag }}
                {{ add_employee_form.spouse_name }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.mobile.label_tag }}
                {{ add_employee_form.mobile }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.email.label_tag }}
                {{ add_employee_form.email }}
            </div>
            <div class="col-md-12">
                {{ add_employee_form.address.label_tag }}
                {{ add_employee_form.address }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.district.label_tag }}
                {{ add_employee_form.district }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.state.label_tag }}
                {{ add_employee_form.state }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.pincode.label_tag }}
                {{ add_employee_form.pincode }}
            </div>
        </div>

        <hr>

        <!-- Professional Details Section -->
        <h4>Professional Details</h4>
        <div class="row">
            <div class="col-md-4">
                {{ add_employee_form.pf_no.label_tag }}
                {{ add_employee_form.pf_no }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.esi_no.label_tag }}
                {{ add_employee_form.esi_no }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.uan.label_tag }}
                {{ add_employee_form.uan }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.pan.label_tag }}
                {{ add_employee_form.pan }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.company.label_tag }}
                {{ add_employee_form.company }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.department.label_tag }}
                {{ add_employee_form.department }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.designation.label_tag }}
                {{ add_employee_form.designation }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.doj.label_tag }}
                {{ add_employee_form.doj }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.doe.label_tag }}
                {{ add_employee_form.doe }}
            </div>
        </div>

        <hr>

        <!-- Account Details Section -->
        <h4>Account Details</h4>
        <div class="row">
            <div class="col-md-4">
                {{ add_employee_form.pay_mode.label_tag }}
                {{ add_employee_form.pay_mode }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.employer_account.label_tag }}
                {{ add_employee_form.employer_account }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.employee_account.label_tag }}
                {{ add_employee_form.employee_account }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.ifsc.label_tag }}
                {{ add_employee_form.ifsc }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.kyc_status.label_tag }}
                {{ add_employee_form.kyc_status }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.handicap.label_tag }}
                {{ add_employee_form.handicap }}
            </div>
            <div class="col-md-12">
                {{ add_employee_form.remarks.label_tag }}
                {{ add_employee_form.remarks }}
            </div>
        </div>

        <hr>

        <!-- Salary Details Section -->
        <h4>Salary Details</h4>
        <div class="row">
            <div class="col-md-4">
                {{ add_employee_form.basic.label_tag }}
                {{ add_employee_form.basic }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.transport.label_tag }}
                {{ add_employee_form.transport }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.canteen.label_tag }}
                {{ add_employee_form.canteen }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.pf_contribution.label_tag }}
                {{ add_employee_form.pf_contribution }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.esic_contribution.label_tag }}
                {{ add_employee_form.esic_contribution }}
            </div>
            <div class="col-md-4">
                {{ add_employee_form.advance.label_tag }}
                {{ add_employee_form.advance }}
            </div>
        </div>

        <button type="submit" name="submit_type" value="add_employee" class="btn btn-primary mt-3">Add Employee</button>
    </form>

    <hr>

    <h2>Upload Employees via Excel</h2>
    <div class="mb-3">
        <a href="{% url 'employees:download_template' %}" class="btn btn-link">Download Sample Excel Template</a>
    </div>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            {{ upload_form.file.label_tag }}
            {{ upload_form.file }}
        </div>
        <button type="submit" name="submit_type" value="upload_employees" class="btn btn-secondary mt-3">Upload</button>
    </form>
</div>
{% endblock %}
