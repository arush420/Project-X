{% extends 'base.html' %}

{% block title %}Generate Salary{% endblock %}

{% block content %}
    <h1>Generate Salary</h1>

    <!-- Salary generation form -->
    <form method="POST">
    {% csrf_token %}
    <label for="month">Select Month:</label>
    <select name="month" id="month">
        <option value="">Select Month</option>
        {% for month in months %}
            <option value="{{ month }}">{{ month }}</option>
        {% endfor %}
    </select>

    <label for="year">Select Year:</label>
    <input type="number" name="year" value="{{ current_year }}" required>

    <label for="days_in_month">Number of Days in Month:</label>
    <input type="number" name="days_in_month" required>

    <table>
        <thead>
            <tr>
                <th>Employee Code</th>
                <th>Employee Name</th>
                <th>Days Worked</th>
            </tr>
        </thead>
        <tbody>
            {% for employee in employees %}
            <tr>
                <td>{{ employee.employee_code }}</td>
                <td>{{ employee.name }}</td>
                <td>
                    <input type="number" name="days_worked_{{ employee.id }}" value="0" required>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <button type="submit">Generate Salary</button>
</form>
{% endblock %}